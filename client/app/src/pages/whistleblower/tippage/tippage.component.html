
<div id="Toolbar" class="row">
    <div class="col-md-12">
    <span id="link-reload"
          (click)="utilsService.reloadCurrentRoute()"
          data-toggle="tooltip" title="{{'Refresh' | translate}}"
          class="btn btn-outline-secondary">
      <i class="fa-solid fa-sync"></i>
    </span>
    </div>
</div>
<div *ngIf="appDataService.receipt">
    <src-receipt></src-receipt>
</div>
<div class="row" *ngIf="wbtipService.tip.status !== 'closed' && wbtipService.tip.context.additional_questionnaire_id && wbtipService.tip.questionnaires.length === 1">
    <div class="col-md-12">
        <src-tip-additional-questionnaire-invite></src-tip-additional-questionnaire-invite>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <src-tip-info [tipService]="wbtipService"></src-tip-info>
    </div>
</div>
<div class="row" *ngIf="wbtipService.tip.context.show_recipients_details">
    <div class="col-md-12">
        <src-tip-receiver-list [tipService]="wbtipService"></src-tip-receiver-list>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <src-tip-questionnaire-answers [tipService]="wbtipService"></src-tip-questionnaire-answers>
    </div>
    <div class="col-md-6" *ngIf="wbtipService.tip.enable_whistleblower_identity">
        <src-whistleblower-identity [uploadEstimateTime]="calculateEstimatedTime()" [uploadprogress]="calculateProgress()" [isuploading]="uploading()" (onFormUpdate)="onFormChange()" (provideIdentityInformation)=provideIdentityInformation($event) [answers]="answers" [step]="wbtipService.tip.whistleblower_identity_field" [field]="wbtipService.tip.whistleblower_identity_field"></src-whistleblower-identity>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <src-tip-files-whistleblower [fileupload_url]="fileupload_url" *ngIf="wbtipService.tip.enable_attachments"></src-tip-files-whistleblower>
        <src-widget-wbfiles [receivers_by_id]="tip.receivers_by_id" [ctx]="ctx"  *ngIf="wbtipService.tip.wbfiles && wbtipService.tip.wbfiles.length"></src-widget-wbfiles>
    </div>
</div>
<div class="row">
    <div class="col-md-6" *ngIf="wbtipService.tip.comments">
        <div *ngIf="wbtipService.tip.context.enable_comments || wbtipService.tip.comments.length">
            <src-tip-comments [tipService]="wbtipService"></src-tip-comments>
        </div>
    </div>
    <div class="col-md-6" *ngIf="wbtipService.tip.messages">
        <div *ngIf="wbtipService.tip.context.enable_messages || wbtipService.tip.messages.length">
            <src-tip-messages [tipService]="wbtipService"></src-tip-messages>
        </div>
    </div>
</div>
